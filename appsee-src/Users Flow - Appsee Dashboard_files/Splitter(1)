/*!
Split Pane v0.3
Copyright (c) 2012 Simon HagstrÃ¶m
Released under the MIT license
https://raw.github.com/shagstrom/split-pane/master/LICENSE
*/
(function(n){function s(){var r=n(this),u=r.children(".split-pane-component:first"),f=r.children(".split-pane-divider"),e=r.children(".split-pane-component:last");r.is(".fixed-top, .fixed-bottom, .horizontal-percent")?r.css("min-height",t(u)+t(e)+f.height()+"px"):r.css("min-width",i(u)+i(e)+f.width()+"px")}function h(t){t.preventDefault();var r=n(this).siblings(".split-pane-resize-shim").show(),i=l(n(this).parent(),t.pageX,t.pageY);n(document).mousemove(i);n(document).one("mouseup",function(){n(document).unbind("mousemove",i);r.hide()})}function c(){var f=n(this),s=f.children(".split-pane-component:first"),h=f.children(".split-pane-divider"),c=f.children(".split-pane-component:last"),v,l,y,p,a,w;f.is(".fixed-top")?(v=f.height()-t(c)-h.height(),s.height()>v?e(f,s,h,c,v+"px"):f.resize()):f.is(".fixed-bottom")?(l=f.height()-t(s)-h.height(),c.height()>l?r(f,s,h,c,l+"px"):f.resize()):f.is(".horizontal-percent")?(l=f.height()-t(s)-h.height(),c.height()>l?r(f,s,h,c,l/f.height()*100+"%"):(y=t(c),f.height()-s.height()-h.height()<y?r(f,s,h,c,y/f.height()*100+"%"):f.resize())):f.is(".fixed-left")?(p=f.width()-i(c)-h.width(),s.width()>p?o(f,s,h,c,p+"px"):f.resize()):f.is(".fixed-right")?(a=f.width()-i(s)-h.width(),c.width()>a?u(f,s,h,c,a+"px"):f.resize()):f.is(".vertical-percent")&&(a=f.width()-i(s)-h.width(),c.width()>a?u(f,s,h,c,a/f.width()*100+"%"):(w=i(c),f.width()-s.width()-h.width()<w?u(f,s,h,c,w/f.width()*100+"%"):f.resize()))}function l(n,f,s){var l=n.children(".split-pane-component:first"),c=n.children(".split-pane-divider"),h=n.children(".split-pane-component:last");if(n.is(".fixed-top")){var g=t(l),nt=n.height()-t(h)-c.height(),tt=c.position().top-s;return function(t){t.preventDefault();var i=Math.min(Math.max(g,tt+t.pageY),nt);e(n,l,c,h,i+"px")}}if(n.is(".fixed-bottom")){var a=t(h),v=n.height()-t(l)-c.height(),y=h.height()+s;return function(t){t.preventDefault();var i=Math.min(Math.max(a,y-t.pageY),v);r(n,l,c,h,i+"px")}}if(n.is(".horizontal-percent")){var p=n.height(),a=t(h),v=p-t(l)-c.height(),y=h.height()+s;return function(t){t.preventDefault();var i=Math.min(Math.max(a,y-t.pageY),v);r(n,l,c,h,i/p*100+"%")}}if(n.is(".fixed-left")){var it=i(l),rt=n.width()-i(h)-c.width(),ut=c.position().left-f;return function(t){t.preventDefault();var i=Math.min(Math.max(it,ut+t.pageX),rt);o(n,l,c,h,i+"px")}}if(n.is(".fixed-right")){var w=i(h),b=n.width()-i(l)-c.width(),k=h.width()+f;return function(t){t.preventDefault();var i=Math.min(Math.max(w,k-t.pageX),b);u(n,l,c,h,i+"px")}}if(n.is(".vertical-percent")){var d=n.width(),w=i(h),b=d-i(l)-c.width(),k=h.width()+f;return function(t){t.preventDefault();var i=Math.min(Math.max(w,k-t.pageX),b);u(n,l,c,h,i/d*100+"%")}}}function t(n){return parseInt(n.css("min-height"))||0}function i(n){return parseInt(n.css("min-width"))||0}function e(n,t,i,r,u){t.css("height",u);i.css("top",u);r.css("top",u);n.resize()}function r(n,t,i,r,u){t.css("bottom",u);i.css("bottom",u);r.css("height",u);n.resize()}function o(n,t,i,r,u){t.css("width",u);i.css("left",u);r.css("left",u);n.resize()}function u(n,t,i,r,u){t.css("right",u);i.css("right",u);r.css("width",u);n.resize()}n.fn.splitPane=function(){var t=this;t.each(s);t.append('<div class="split-pane-resize-shim">');t.children(".split-pane-divider").bind("mousedown",h);setTimeout(function(){t.bind("_splitpaneparentresize",c);n(window).trigger("resize")},100)};var f="_splitpaneparentresizeHandler";jQuery.event.special._splitpaneparentresize={setup:function(){var i=this,t=n(this).parent().closest(".split-pane")[0]||window;n(this).data(f,function(n){var r=n.target===document?window:n.target;r===t?(n.type="_splitpaneparentresize",jQuery.event.dispatch.apply(i,arguments)):n.stopPropagation()});n(t).bind("resize",n(this).data(f))},teardown:function(){var t=n(this).parent().closest(".split-pane")[0]||window;n(t).unbind("resize",n(this).data(f));n(this).removeData(f)}}})(jQuery)