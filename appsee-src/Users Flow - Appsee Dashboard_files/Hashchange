(function(n,t,i){function u(n){return n=n||location.href,"#"+n.replace(/^[^#]*#?(.*)$/,"$1")}var r="hashchange",f=document,e,s=n.event.special,h=f.documentMode,o="on"+r in t&&(h===i||h>7);n.fn[r]=function(n){return n?this.bind(r,n):this.trigger(r)};n.fn[r].delay=50;s[r]=n.extend(s[r],{setup:function(){if(o)return!1;n(e.start)},teardown:function(){if(o)return!1;n(e.stop)}});e=function(){function a(){var f=u(),i=v(h);f!==h?(l(h=f,i),n(t).trigger(r)):i!==h&&(location.href=location.href.replace(/#.*/,"")+i);s=setTimeout(a,n.fn[r].delay)}var e={},s,h=u(),c=function(n){return n},l=c,v=c;return e.start=function(){s||a()},e.stop=function(){s&&clearTimeout(s);s=i},navigator.appName!=="Microsoft Internet Explorer"||o||function(){var t,i;e.start=function(){t||(i=n.fn[r].src,i=i&&i+u(),t=n('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||l(u());a()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow,f.onpropertychange=function(){try{event.propertyName==="title"&&(t.document.title=f.title)}catch(n){}})};e.stop=c;v=function(){return u(t.location.href)};l=function(i,u){var e=t.document,o=n.fn[r].domain;i!==u&&(e.title=f.title,e.open(),o&&e.write('<script>document.domain="'+o+'"<\/script>'),e.close(),t.location.hash=i)}}(),e}()})(jQuery,this)