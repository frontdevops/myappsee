/*!
 * bootstrap-select v1.3.5
 * http://silviomoreto.github.io/bootstrap-select/
 *
 * Copyright 2013 bootstrap-select
 * Licensed under the MIT license
 */
!function(n){"use strict";n.expr[":"].icontains=function(t,i,r){return n(t).text().toUpperCase().indexOf(r[3].toUpperCase())>=0};var t=function(i,r,u){u&&(u.stopPropagation(),u.preventDefault());this.$element=n(i);this.$newElement=null;this.$button=null;this.$menu=null;this.options=n.extend({},n.fn.selectpicker.defaults,this.$element.data(),typeof r=="object"&&r);this.options.title==null&&(this.options.title=this.$element.attr("title"));this.val=t.prototype.val;this.render=t.prototype.render;this.refresh=t.prototype.refresh;this.setStyle=t.prototype.setStyle;this.selectAll=t.prototype.selectAll;this.deselectAll=t.prototype.deselectAll;this.init()};t.prototype={constructor:t,init:function(){var t,i;this.$element.hide();this.multiple=this.$element.prop("multiple");t=this.$element.attr("id");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");this.$button=this.$newElement.find("> button");this.$searchbox=this.$newElement.find("input");t!==undefined&&(i=this,this.$button.attr("data-id",t),n('label[for="'+t+'"]').click(function(n){n.preventDefault();i.$button.focus()}));this.checkDisabled();this.clickListener();this.liveSearchListener();this.render();this.liHeight();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this)},createDropdown:function(){var t=this.multiple?" show-tick":"",i=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;<\/button>'+this.options.header+"<\/div>":"",r=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /><\/div>':"",u="<div class='btn-group bootstrap-select"+t+"'><button type='button' class='btn dropdown-toggle' data-toggle='dropdown'><div class='filter-option pull-left'><\/div>&nbsp;<div class='caret'><\/div><\/button><div class='dropdown-menu open'>"+i+r+"<ul class='dropdown-menu inner' role='menu'><\/ul><\/div><\/div>";return n(u)},createView:function(){var n=this.createDropdown(),t=this.createLi();return n.find("ul").append(t),n},reloadLi:function(){this.destroyLi();var n=this.createLi();this.$menu.find("ul").append(n)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var i=this,t=[],r="";return this.$element.find("option").each(function(){var r=n(this),f=r.attr("class")||"",e=r.attr("style")||"",u=r.data("content")?r.data("content"):r.html(),h=r.data("subtext")!==undefined?'<small class="muted text-muted">'+r.data("subtext")+"<\/small>":"",o=r.data("icon")!==undefined?'<i class="glyphicon '+r.data("icon")+'"><\/i> ':"";if(o!==""&&(r.is(":disabled")||r.parent().is(":disabled"))&&(o="<span>"+o+"<\/span>"),r.data("content")||(u=o+'<span class="text">'+u+h+"<\/span>"),i.options.hideDisabled&&(r.is(":disabled")||r.parent().is(":disabled")))t.push('<a style="min-height: 0; padding: 0"><\/a>');else if(r.parent().is("optgroup")&&r.data("divider")!==!0)if(r.index()==0){var s=r.parent().attr("label"),c=r.parent().data("subtext")!==undefined?'<small class="muted text-muted">'+r.parent().data("subtext")+"<\/small>":"",l=r.parent().data("icon")?'<i class="'+r.parent().data("icon")+'"><\/i> ':"";s=l+'<span class="text">'+s+c+"<\/span>";r[0].index!=0?t.push('<div class="div-contain"><div class="divider"><\/div><\/div><dt>'+s+"<\/dt>"+i.createA(u,"opt "+f,e)):t.push("<dt>"+s+"<\/dt>"+i.createA(u,"opt "+f,e))}else t.push(i.createA(u,"opt "+f,e));else r.data("divider")===!0?t.push('<div class="div-contain"><div class="divider"><\/div><\/div>'):n(this).data("hidden")===!0?t.push(""):t.push(i.createA(u,f,e))}),n.each(t,function(n,t){r+="<li rel="+n+">"+t+"<\/li>"}),this.multiple||this.$element.find("option:selected").length!=0||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),n(r)},createA:function(n,t,i){return'<a tabindex="0" class="'+t+'" style="'+i+'">'+n+'<i class="glyphicon glyphicon-ok icon-ok check-mark"><\/i><\/a>'},render:function(){var t=this,i,r,u,f;this.$element.find("option").each(function(i){t.setDisabled(i,n(this).is(":disabled")||n(this).parent().is(":disabled"));t.setSelected(i,n(this).is(":selected"))});this.tabIndex();i=this.$element.find("option:selected").map(function(){var i=n(this),u=i.data("icon")&&t.options.showIcon?'<i class="glyphicon '+i.data("icon")+'"><\/i> ':"",r;return r=t.options.showSubtext&&i.attr("data-subtext")&&!t.multiple?' <small class="muted text-muted">'+i.data("subtext")+"<\/small>":"",i.data("content")&&t.options.showContent?i.data("content"):i.attr("title")!=undefined?i.attr("title"):u+i.html()+r}).toArray();r=this.multiple?i.join(", "):i[0];this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1&&(u=this.options.selectedTextFormat.split(">"),f=this.options.hideDisabled?":not([disabled])":"",(u.length>1&&i.length>u[1]||u.length==1&&i.length>=2)&&(r=this.options.countSelectedText.replace("{0}",i.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+f).length)));r||(r=this.options.title!=undefined?this.options.title:this.options.noneSelectedText);this.$newElement.find(".filter-option").html(r)},setStyle:function(n,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""));var i=n?n:this.options.style;t=="add"?this.$button.addClass(i):t=="remove"?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){var n=this.$newElement.clone();n.appendTo("body");var t=n.addClass("open").find("> .dropdown-menu"),i=t.find("li > a").outerHeight(),r=this.options.header?t.find(".popover-title").outerHeight():0,u=this.options.liveSearch?t.find(".bootstrap-select-searchbox").outerHeight():0;n.remove();this.$newElement.data("liHeight",i).data("headerHeight",r).data("searchHeight",u)},setSize:function(){var f=this,t=this.$menu,h=t.find(".inner"),k=this.$newElement.outerHeight(),c=this.$newElement.data("liHeight"),l=this.$newElement.data("headerHeight"),a=this.$newElement.data("searchHeight"),d=t.find("li .divider").outerHeight(!0),r=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom"))+parseInt(t.css("border-top-width"))+parseInt(t.css("border-bottom-width")),v=this.options.hideDisabled?":not(.disabled)":"",y=n(window),e=r+parseInt(t.css("margin-top"))+parseInt(t.css("margin-bottom"))+2,i,u,o,p=function(){u=f.$newElement.offset().top-y.scrollTop();o=y.height()-u-k},s,w,b;p();this.options.header&&t.css("padding-top",0);this.options.size=="auto"?(s=function(){var n;p();i=o-e;f.$newElement.toggleClass("dropup",u>o&&i-e<t.height()&&f.options.dropupAuto);f.$newElement.hasClass("dropup")&&(i=u-e);n=t.find("li").length+t.find("dt").length>3?c*3+e-2:0;t.css({"max-height":i+"px",overflow:"hidden","min-height":n+"px"});h.css({"max-height":i-l-a-r+"px","overflow-y":"auto","min-height":n-r+"px"})},s(),n(window).resize(s),n(window).scroll(s)):this.options.size&&this.options.size!="auto"&&t.find("li"+v).length>this.options.size&&(w=t.find("li"+v+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),b=t.find("li").slice(0,w+1).find(".div-contain").length,i=c*this.options.size+b*d+r,this.$newElement.toggleClass("dropup",u>o&&i<t.height()&&this.options.dropupAuto),t.css({"max-height":i+l+a+"px",overflow:"hidden"}),h.css({"max-height":i-r+"px","overflow-y":"auto"}))},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var n=this.$newElement.clone().appendTo("body"),t=n.find("> .dropdown-menu").css("width");n.remove();this.$newElement.css("width",t)}else this.options.width=="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var i=this,t=n("<div />"),r,f,u=function(n){t.addClass(n.attr("class")).toggleClass("dropup",n.hasClass("dropup"));r=n.offset();f=n.hasClass("dropup")?0:n[0].offsetHeight;t.css({top:r.top+f,left:r.left,width:n[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){u(n(this));t.appendTo(i.options.container);t.toggleClass("open",!n(this).hasClass("open"));t.append(i.$menu)});n(window).resize(function(){u(i.$newElement)});n(window).on("scroll",function(){u(i.$newElement)});n("html").on("click",function(r){n(r.target).closest(i.$newElement).length<1&&t.removeClass("open")})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);this.options.container&&this.$menu.hide()},refresh:function(){this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},setSelected:function(n,t){this.$menu.find("li").eq(n).toggleClass("selected",t)},setDisabled:function(n,t){t?this.$menu.find("li").eq(n).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$menu.find("li").eq(n).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var n=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),this.$button.attr("tabindex")==-1&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex")));this.$button.click(function(){return!n.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this;n("body").on("touchstart.dropdown",".dropdown-menu",function(n){n.stopPropagation()});this.$newElement.on("click",function(){t.setSize()});this.$menu.on("click","li a",function(i){var e=n(this).parent().index(),o=t.$element.val(),u,r,f;t.multiple&&i.stopPropagation();i.preventDefault();t.isDisabled()||n(this).parent().hasClass("disabled")||(u=t.$element.find("option"),r=u.eq(e),t.multiple?(f=r.prop("selected"),r.prop("selected",!f)):(u.prop("selected",!1),r.prop("selected",!0)),t.$button.focus(),o!=t.$element.val()&&t.$element.change())});this.$menu.on("click","li.disabled a, li dt, li .div-contain, h3.popover-title",function(n){n.target==this&&(n.preventDefault(),n.stopPropagation(),t.$button.focus())});this.$searchbox.on("click",function(n){n.stopPropagation()});this.$element.change(function(){t.render()})},liveSearchListener:function(){var n=this;this.$newElement.on("click.dropdown.data-api",function(){n.options.liveSearch&&setTimeout(function(){n.$searchbox.focus()},10)});this.$searchbox.on("input",function(){n.$searchbox.val()?n.$menu.find("li").show().not(":icontains("+n.$searchbox.val()+")").hide():n.$menu.find("li").show()})},val:function(n){return n!=undefined?(this.$element.val(n),this.$element.change(),this.$element):this.$element.val()},selectAll:function(){this.$element.find("option").prop("selected",!0).attr("selected","selected");this.render()},deselectAll:function(){this.$element.find("option").prop("selected",!1).removeAttr("selected");this.render()},keydown:function(t){var y,r,f,i,e,s,h,c,l,a,v,o,u,p;(y=n(this),f=y.parent(),a=f.data("this"),a.options.container&&(f=a.$menu),r=n("[role=menu] li:not(.divider):visible a",f),r.length)&&(/(38|40)/.test(t.keyCode)?(i=r.index(r.filter(":focus")),s=r.parent(":not(.disabled)").first().index(),h=r.parent(":not(.disabled)").last().index(),e=r.eq(i).parent().nextAll(":not(.disabled)").eq(0).index(),c=r.eq(i).parent().prevAll(":not(.disabled)").eq(0).index(),l=r.eq(e).parent().prevAll(":not(.disabled)").eq(0).index(),t.keyCode==38&&(i!=l&&i>c&&(i=c),i<s&&(i=s)),t.keyCode==40&&(i!=l&&i<e&&(i=e),i>h&&(i=h),i==-1&&(i=0)),r.eq(i).focus()):(v={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},o=[],r.each(function(){n(this).parent().is(":not(.disabled)")&&n.trim(n(this).text().toLowerCase()).substring(0,1)==v[t.keyCode]&&o.push(n(this).parent().index())}),u=n(document).data("keycount"),u++,n(document).data("keycount",u),p=n.trim(n(":focus").text().toLowerCase()).substring(0,1),p!=v[t.keyCode]?(u=1,n(document).data("keycount",u)):u>=o.length&&n(document).data("keycount",0),r.eq(o[u-1]).focus()),/(13|32)/.test(t.keyCode)&&(t.preventDefault(),n(":focus").click(),n(document).data("keycount",0)))},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove();this.$element.remove()}};n.fn.selectpicker=function(i,r){var f=arguments,u,e=this.each(function(){var h,s;if(n(this).is("select")){var c=n(this),e=c.data("selectpicker"),o=typeof i=="object"&&i;if(e){if(o)for(h in o)e.options[h]=o[h]}else c.data("selectpicker",e=new t(this,o,r));typeof i=="string"&&(s=i,e[s]instanceof Function?([].shift.apply(f),u=e[s].apply(e,f)):u=e.options[s])}});return u!=undefined?u:e};n.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",countSelectedText:"{0} of {1} selected",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1};n(document).data("keycount",0).on("keydown","[data-toggle=dropdown], [role=menu]",t.prototype.keydown)}(window.jQuery)